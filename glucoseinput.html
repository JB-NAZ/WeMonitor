<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glucose Input</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@200..900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            font-family:-apple-system, BlinkMacSystemFont, 'Ubuntu', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .card {
            background: white;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            width: 100%;
            /*max-width: 28rem;*/
        }

        .header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .header-icon {
            color: #black;
            width: 1.5rem;
            height: 1.5rem;
        }

        .title {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .input-section {
            margin-bottom: 2rem;
        }

        .input-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .input-label {
            font-size: 1.125rem;
            font-weight: 500;
        }

        .value-display {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .glucose-value {
            color: #2563eb;
        }

        .controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            justify-content: center;
        }

        .btn-container{
                display: flex;
                gap: 1rem;
                align-items: center;
                justify-content: center;

            }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            border-radius: 9999px;
            background-color: #f3f4f6;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn:hover {
            background-color: #e5e7eb;
        }

        .btn-large {
            width: 3rem;
            height: 3rem;
        }

        .btn-small {
            width: 2.5rem;
            height: 2.5rem;
        }

        .slider-container {
            width: 6rem;
        }

        input[type="range"] {
            width: 100%;
            height: 0.5rem;
            background: #e5e7eb;
            border-radius: 0.25rem;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 1.5rem;
            height: 1.5rem;
            background: #2563eb;
            border-radius: 50%;
            cursor: pointer;
        }

        .check-button {
            width: 100%;
            padding: 0.75rem;
            background-color: black;
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 1.125rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
            transition: background-color 0.2s;
        }

        .check-button:hover {
            background-color: #1d4ed8;
        }

        .result {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0.5rem;
            display: none;
        }

        .result.normal {
            background-color: #dcfce7;
            color: #166534;
        }

        .result.elevated {
            background-color: #fef9c3;
            color: #854d0e;
        }

        .result.stage1 {
            background-color: #ffedd5;
            color: #9a3412;
        }

        .result.stage2 {
            background-color: #fee2e2;
            color: #991b1b;
        }

        @media (max-width: 480px) {
            .controls {
                flex-direction: column-reverse;
                align-items: center;
                gap: 1rem;
            }
            .btn-container{
                display: flex;
                gap: 1rem;
                align-items: center;
                justify-content: center;

            }
            .btn-opposite{
                flex-direction: row-reverse;

            }

            .slider-container {
                width: 100%;
                padding: 0 1rem;
            }

            .arrow-group {
                display: flex;
                gap: 0.5rem;
            }
          

            .value-display {
                font-size: 2.75rem;
            }

            .input-label {
                font-size: 2.25rem;
            }

            .btn-large {
                width: 3.5rem;
                height: 3.5rem;
            }
        }

        .back-button span {
            font-size: 37px;
            color: black;
        }
    </style>
</head>

<body>

    <div class="card">
            <div class="back-button"><a href="glucosedashboard.html"><span class="material-symbols-outlined">
arrow_back
</span></a></div>
        <div class="header">
            <h1 class="title">グルコース</h1>
        </div>

        <div class="input-section">
            <div class="input-header">
                <span class="input-label">Glucose Level</span>
                <span class="value-display glucose-value" id="glucoseValue">90</span>
            </div>
            <div class="controls">
                <div class="btn-container btn-opposite">
                    <button class="btn btn-large" onclick="adjustValue('glucose', -10)">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                        </svg>
                    </button>
                    <button class="btn btn-small" onclick="adjustValue('glucose', -1)">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                        </svg>
                    </button>
                </div>
                <div class="slider-container">
                    <input type="range" min="40" max="300" value="90" id="glucoseSlider"
                        oninput="updateFromSlider('glucose')">
                </div>
                <div class="btn-container">
                    <button class="btn btn-small" onclick="adjustValue('glucose', 1)">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
                        </svg>
                    </button>
                    <button class="btn btn-large" onclick="adjustValue('glucose', 10)">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <button class="check-button" onclick="checkReading()">
              <span>保存</span>
        </button>
            
        <button class="check-button"><a href="glucosedashboard.html"></a>
              <span>戻る</span>
        </button>

        <div class="result" id="result"></div>
    </div>

    <script>
    let glucose = 90; // Default glucose value

    function adjustValue(type, amount) {
        if (type === 'glucose') {
            const newValue = glucose + amount;
            if (newValue >= 40 && newValue <= 300) {
                glucose = newValue;
                updateDisplay('glucose');
            }
        }
        hideResult();
    }

    function updateDisplay(type) {
        const value = glucose;
        document.getElementById(`${type}Value`).textContent = value;
        document.getElementById(`${type}Slider`).value = value;
    }

    function updateFromSlider(type) {
        const value = parseInt(document.getElementById(`${type}Slider`).value);
        glucose = value;
        updateDisplay(type);
        hideResult();
    }

    function hideResult() {
        document.getElementById('result').style.display = 'none';
    }

    function checkReading() {
        const result = document.getElementById('result');
        
        if (glucose < 70) {
            result.className = 'result normal';
            result.innerHTML = `
                <div class="reading-value">
                    Glucose: ${glucose} mg/dL
                </div>
                <div>Category: Low</div>
            `;
        } else if (glucose < 100) {
            result.className = 'result normal';
            result.innerHTML = `
                <div class="reading-value">
                    Glucose: ${glucose} mg/dL
                </div>
                <div>Category: Normal</div>
            `;
        } else {
            result.className = 'result elevated';
            result.innerHTML = `
                <div class="reading-value">
                    Glucose: ${glucose} mg/dL
                </div>
                <div>Category: High</div>
            `;
        }
        result.style.display = 'block';
    }
    </script>

</body>

</html>
